<!-- 群信息编辑页面 -->
<view class="team-info-edit-container">
  <!-- 导航栏 -->
  <view class="nav-bar" style="padding-top: {{statusBarHeight}}px;">
    <view class="nav-content">
      <view class="nav-left" bindtap="handleBack">
        <icon type="icon-zuojiantou" size="20" color="#333333" />
      </view>
      <view class="nav-title">群信息</view>
      <view class="nav-right"></view>
    </view>
  </view>

  <!-- 内容区域 -->
  <view class="content-container" wx:if="{{team}}">
    <!-- 群信息卡片 -->
    <view class="info-card">
      <!-- 群头像 -->
      <view class="info-item" bindtap="handleAvatarClick">
        <view class="info-label">群头像</view>
        <view class="info-value-container">
          <view class="team-avatar">
            <image wx:if="{{team.avatar}}" src="{{team.avatar}}" class="avatar-image" mode="aspectFill" />
            <view wx:else class="avatar-placeholder" style="background-color: {{avatarColor}}">
              <text class="avatar-text">{{displayName}}</text>
            </view>
          </view>
          <icon type="icon-youjiantou" size="16" color="#999999" />
        </view>
      </view>

      <!-- 群名称 -->
      <view class="info-item" bindtap="handleNameClick">
        <view class="info-label">群名称</view>
        <view class="info-value-container">
          <text class="info-value">{{team.name || '未设置'}}</text>
          <icon type="icon-youjiantou" size="16" color="#999999" />
        </view>
      </view>

      <!-- 群介绍 -->
      <view class="info-item" bindtap="handleIntroClick">
        <view class="info-label">群介绍</view>
        <view class="info-value-container">
          <text class="info-value">{{team.intro || '未设置'}}</text>
          <icon type="icon-youjiantou" size="16" color="#999999" />
        </view>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-content">
      <view class="loading-spinner"></view>
      <text class="loading-text">{{loadingText}}</text>
    </view>
  </view>

  <!-- 群名称编辑弹窗（textarea） -->
  <view class="edit-modal-overlay" wx:if="{{showNameEdit}}" bindtap="closeNameEdit">
    <view class="edit-modal-content" catchtap="stopPropagation">
      <view class="edit-title">修改群名称</view>
      <textarea 
        class="edit-textarea"
        placeholder="请输入群名称"
        value="{{editNameValue}}"
        bindinput="handleNameInput"
        maxlength="30"
        auto-height="true"
        focus="{{canEditName}}"
        disabled="{{!canEditName}}"
      />
      <view class="edit-count">{{editNameValue.length}}/30</view>
      <view class="edit-actions">
        <view class="edit-button cancel" bindtap="closeNameEdit">取消</view>
        <view class="edit-button confirm" wx:if="{{canEditName}}" bindtap="confirmNameEdit">确定</view>
        <view class="edit-button confirm disabled" wx:else>确定</view>
      </view>
    </view>
  </view>

  <!-- 群介绍编辑弹窗（textarea） -->
  <view class="edit-modal-overlay" wx:if="{{showIntroEdit}}" bindtap="closeIntroEdit">
    <view class="edit-modal-content" catchtap="stopPropagation">
      <view class="edit-title">修改群介绍</view>
      <textarea 
        class="edit-textarea"
        placeholder="请输入群介绍"
        value="{{editIntroValue}}"
        bindinput="handleIntroInput"
        maxlength="100"
        auto-height="true"
        focus="{{canEditIntro}}"
        disabled="{{!canEditIntro}}"
      />
      <view class="edit-count">{{editIntroValue.length}}/100</view>
      <view class="edit-actions">
        <view class="edit-button cancel" bindtap="closeIntroEdit">取消</view>
        <view class="edit-button confirm" wx:if="{{canEditIntro}}" bindtap="confirmIntroEdit">确定</view>
        <view class="edit-button confirm disabled" wx:else>确定</view>
      </view>
    </view>
  </view>
</view>
